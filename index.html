<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INDIA BADSAH</title>
<style>
body { margin:0; font-family: Arial,sans-serif; background: linear-gradient(to right,#1a2a6c,#b21f1f,#fdbb2d); color:white; line-height:1.6; }
header { text-align:center; padding:20px; background:rgba(0,0,0,0.6);}
header img { width:180px; height:180px; object-fit:cover; border-radius:50%; border:5px solid #fff; transition: transform 0.4s;}
header img:hover { transform: scale(1.05) rotate(2deg);}
header h1 { margin:15px 0 0; font-size:2.5em; color:#fbd46d; text-shadow:2px 2px 5px black;}
nav { display:flex; justify-content:center; background:rgba(0,0,0,0.8); flex-wrap:wrap;}
nav a { color:white; text-decoration:none; padding:15px 20px; display:block; transition: background 0.3s, color 0.3s;}
nav a:hover { background:#fbd46d; color:black; border-radius:5px;}
section { padding:40px 20px; max-width:900px; margin:auto; background:rgba(255,255,255,0.1); margin-bottom:30px; border-radius:12px; box-shadow:0px 4px 15px rgba(0,0,0,0.5); transition: transform 0.3s;}
section:hover { transform: translateY(-5px);}
section h2 { color:#ffe66d; margin-bottom:15px;}
footer { text-align:center; padding:20px; background:rgba(0,0,0,0.7); color:#ccc;}
/* Visitor Form Modal */
#visitorModal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.7);}
#visitorModalContent { background:#222; margin:5% auto; padding:20px; border-radius:10px; width:90%; max-width:500px; color:white;}
#visitorModalContent label { display:block; margin:5px 0 3px; font-weight:bold; }
#visitorModalContent input, #visitorModalContent select { width:100%; padding:10px; margin-bottom:10px; border:none; border-radius:5px;}
#visitorModalContent button { background:#fbd46d; color:black; border:none; padding:12px 20px; border-radius:5px; cursor:pointer; margin-right:10px;}
#visitorModalContent button:hover { background:#fff; }
/* Admin Login Modal */
#adminModal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.7);}
#adminModalContent { background:#222; margin:5% auto; padding:20px; border-radius:10px; width:90%; max-width:400px; color:white;}
#adminModalContent input { width:100%; padding:10px; margin:5px 0 15px 0; border:none; border-radius:5px;}
#adminModalContent button { background:#fbd46d; color:black; border:none; padding:12px 20px; border-radius:5px; cursor:pointer; margin-right:10px;}
#adminModalContent button:hover { background:#fff; }
/* Status Modal */
#statusModal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.7);}
#statusModalContent { background:#222; margin:5% auto; padding:20px; border-radius:10px; width:90%; max-width:500px; color:white;}
#statusModalContent p { padding:10px; border-radius:5px; margin-bottom:10px;}
</style>
</head>
<body>

<header>
<img src="myphoto.jpg" alt="India Badsah Photo">
<h1>INDIA BADSAH</h1>
<div style="margin-top:10px;">
<a href="https://facebook.com/" target="_blank" style="color:#3b5998; margin-right:10px;">Facebook</a>
<a href="https://instagram.com/" target="_blank" style="color:#E1306C;">Instagram</a>
</div>
</header>

<nav>
<a href="#profile">Profile</a>
<a href="#education">Education</a>
<a href="#culture">Culture</a>
<a href="#achievements">Achievements</a>
<a href="#hobbies">Hobbies</a>
<a href="#interested">Interested About</a>
<a href="#thoughts">Thoughts</a>
<a href="#" onclick="openVisitorForm()">Visitor Form</a>
<a href="#" onclick="openAdminForm()">Admin Login</a>
<a href="#" onclick="openVisitorStatus()">Check Status</a>
</nav>

<section id="profile"><h2>Profile</h2><p>I am INDIA BADSAH, a passionate learner and explorer of life’s endless opportunities.</p></section>
<section id="education"><h2>Education</h2><p>Education is the foundation of growth.</p></section>
<section id="culture"><h2>Culture</h2><p>Culture defines who we are.</p></section>
<section id="achievements"><h2>Achievements</h2><p>Perseverance and hard work define my journey.</p></section>
<section id="hobbies"><h2>Hobbies</h2><p>Engage in creative and recreational activities.</p></section>
<section id="interested"><h2>Interested About</h2><p>Deeply interested in innovation, leadership, and cultural understanding.</p></section>
<section id="thoughts"><h2>Thoughts</h2><p>“Life is about creating opportunities.”</p></section>

<footer>
<p>© 2025 INDIA BADSAH | Personal Biography Website</p>
</footer>

<!-- Visitor Form Modal -->
<div id="visitorModal">
<div id="visitorModalContent">
<h2>Visitor Form</h2>
<label for="visitorName">Visitor Name</label>
<input type="text" id="visitorName" required>
<label for="visitorDOB">DOB</label>
<input type="date" id="visitorDOB" required>
<label for="fatherName">Father's Name</label>
<input type="text" id="fatherName">
<label for="visitorAddress">Address</label>
<input type="text" id="visitorAddress" required>
<label for="visitorCountry">Country Code</label>
<select id="visitorCountry" required>
<option value="">Select Country</option>
<option value="+91">India (+91)</option>
<option value="+880">Bangladesh (+880)</option>
<option value="+92">Pakistan (+92)</option>
<option value="+94">Sri Lanka (+94)</option>
<option value="+1">USA (+1)</option>
<option value="+44">UK (+44)</option>
<option value="+65">Singapore (+65)</option>
<option value="+971">UAE (+971)</option>
</select>
<label for="visitDate">Visit Date</label>
<input type="date" id="visitDate" required>
<label for="visitTime">Visit Time</label>
<input type="time" id="visitTime" required>
<label for="contactNumber">Contact Number</label>
<input type="tel" id="contactNumber" required>
<label for="passportNumber">Passport Number</label>
<input type="text" id="passportNumber">
<label for="email">Email</label>
<input type="email" id="email" required>
<button onclick="submitVisitorForm()">Submit</button>
<button onclick="closeVisitorForm()">Cancel</button>
</div>
</div>

<!-- Admin Login Modal -->
<div id="adminModal">
<div id="adminModalContent">
<h2>Admin Login</h2>
<input type="text" id="username" placeholder="Username" required>
<input type="password" id="password" placeholder="Password" required>
<button onclick="submitAdminLogin()">Login</button>
<button onclick="closeAdminForm()">Cancel</button>
</div>
</div>

<!-- Visitor Status Modal -->
<div id="statusModal">
<div id="statusModalContent">
<h2>Visitor Status</h2>
<label for="statusAppointment">Enter Appointment No</label>
<input type="number" id="statusAppointment" placeholder="Appointment No">
<button onclick="checkVisitorStatus()">Check</button>
<button onclick="closeVisitorStatus()">Close</button>
<div id="statusResult"></div>
</div>
</div>

<script>
const webAppURL = "https://script.google.com/macros/s/AKfycbz6OHcvR-tVeM7PXnps0An63jekTp2buTf3Tr5fJDk_Pzu1G_1OoEBsFhd9LI4NTJc4dA/exec";

// ---------------- Visitor Form ----------------
function openVisitorForm(){document.getElementById("visitorModal").style.display="block";}
function closeVisitorForm(){document.getElementById("visitorModal").style.display="none";}

// Set date/time restrictions
const today = new Date().toISOString().split("T")[0];
document.getElementById("visitorDOB").setAttribute("max", today);
document.getElementById("visitDate").setAttribute("min", today);
document.getElementById("visitTime").setAttribute("min", new Date().toTimeString().slice(0,5));

function submitVisitorForm(){
  const data = {
    visitorName: document.getElementById("visitorName").value,
    dob: document.getElementById("visitorDOB").value,
    fatherName: document.getElementById("fatherName").value,
    address: document.getElementById("visitorAddress").value,
    country: document.getElementById("visitorCountry").value,
    visitDate: document.getElementById("visitDate").value,
    visitTime: document.getElementById("visitTime").value,
    contactNumber: document.getElementById("contactNumber").value,
    passport: document.getElementById("passportNumber").value,
    email: document.getElementById("email").value
  };
  fetch(webAppURL,{
    method:'POST',
    body:JSON.stringify(data),
    headers:{'Content-Type':'application/json'}
  }).then(res=>res.json()).then(d=>{
    alert(`Appointment sent successfully! Appointment No: ${d.appointmentNo}`);
    closeVisitorForm();
  }).catch(err=>alert("Error sending appointment: "+err.message));
}

// ---------------- Visitor Status ----------------
function openVisitorStatus(){document.getElementById("statusModal").style.display="block";}
function closeVisitorStatus(){document.getElementById("statusModal").style.display="none";}
function checkVisitorStatus(){
  const apptNo = document.getElementById("statusAppointment").value;
  if(!apptNo){ alert("Enter appointment number"); return; }
  fetch(webAppURL).then(res=>res.json()).then(data=>{
    const visitor = data.find(v=>v["Appointment Number"] == apptNo);
    if(!visitor){ alert("No record found"); return; }
    let color = visitor.Status==="Accepted"?"green":visitor.Status==="Rejected"?"red":"pink";
    document.getElementById("statusResult").innerHTML=`<p style="background:${color};padding:10px;border-radius:5px;">
      Visitor: ${visitor["Visitor Name"]} <br>
      Status: ${visitor.Status || "Pending"} <br>
      Visit Date: ${visitor["Visit Date"]} <br>
      Visit Time: ${visitor["Visit Time"]}
      </p>`;
  }).catch(err=>alert("Error fetching data: "+err.message));
}

// ---------------- Admin Login ----------------
function openAdminForm(){document.getElementById("adminModal").style.display="block";}
function closeAdminForm(){document.getElementById("adminModal").style.display="none";}

function submitAdminLogin(){
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;
  if(!username || !password){ alert("Enter credentials or cancel"); return; }

  fetch(webAppURL,{
    method:'POST',
    body:JSON.stringify({type:"adminLogin", username, password}),
    headers:{'Content-Type':'application/json'}
  }).then(res=>res.text()).then(txt=>{
    if(txt.includes("PERMISSION DENIED")){ alert("Access Denied"); return; }
    alert("Login Successful!"); 
    closeAdminForm();
    // Load visitor dashboard in modal
    fetch(webAppURL).then(r=>r.json()).then(data=>{
      let result = "<h3>Visitor Appointments</h3><table border='1' style='width:100%;color:black;background:white;border-collapse:collapse'><tr>";
      Object.keys(data[0]).forEach(h=> result+=`<th>${h}</th>`); result+="</tr>";
      data.forEach(v=>{ result+="<tr>"; Object.values(v).forEach(val=> result+=`<td>${val}</td>`); result+="</tr>"; });
      result+="</table>";
      const adminDiv = document.createElement("div");
      adminDiv.style.cssText="position:fixed;top:5%;left:5%;width:90%;height:90%;overflow:auto;background:#fff;color:#000;padding:10px;z-index:1001;border-radius:10px;";
      adminDiv.innerHTML=`<button onclick='this.parentElement.remove()'>Close</button>${result}`;
      document.body.appendChild(adminDiv);
    }).catch(err=>alert("Error loading admin data: "+err.message));
  }).catch(err=>alert("Error logging in: "+err.message));
}
</script>

</body>
</html>
