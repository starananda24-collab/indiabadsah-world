<form id="adminLoginForm">
  <input type="text" id="username" placeholder="Username" required>
  <input type="password" id="password" placeholder="Password" required>
  <button type="submit">Login</button>
</form>

<script>
document.getElementById("adminLoginForm").addEventListener("submit", function(event) {
  event.preventDefault();
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;

  const credentials = {type: "adminLogin", username, password};

  fetch('https://script.google.com/macros/s/AKfycbzz3IXXuqEz9digVoHzUB1d2E-pOo2bACKZh44idgcgMuTmaieEJ_wHKTQ7j1Zkc8QnUg/exec', {
    method: 'POST',
    body: JSON.stringify(credentials),
    headers: {'Content-Type': 'application/json'}
  })
  .then(res => res.text())
  .then(html => {
    if(html.includes("PERMISSION DENIED")){
      alert("Access Denied: Incorrect credentials.");
    }else{
      document.open();
      document.write(html);
      document.close();
    }
  })
  .catch(err => alert("Error logging in: " + err.message));
});
</script>
