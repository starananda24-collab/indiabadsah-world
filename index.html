<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BHOLA NATH BASAK</title>
<style>
body {margin:0; font-family: Arial, sans-serif; background:linear-gradient(to right,#1a2a6c,#b21f1f,#fdbb2d); color:white; line-height:1.6;}
header{text-align:center; padding:20px; background:rgba(0,0,0,0.6);}
header img{width:180px;height:180px;object-fit:cover;border-radius:50%;border:5px solid #fff;transition: transform 0.4s;}
header img:hover{transform: scale(1.05) rotate(2deg);}
header h1{margin:15px 0 0; font-size:2.5em;color:#fbd46d;text-shadow:2px 2px 5px black; font-family: 'Trebuchet MS', sans-serif;}
nav{display:flex;justify-content:center;background:rgba(0,0,0,0.8);flex-wrap:wrap;align-items:center;}
nav a{color:white;text-decoration:none;padding:10px 15px;display:block;transition:background 0.3s,color 0.3s;cursor:pointer;}
nav a:hover{background:#fbd46d;color:black;border-radius:5px;}
#statusSearch {margin-left:10px;padding:5px;border-radius:5px;border:none;}
#statusResult {margin-left:10px;}
section{padding:40px 20px;max-width:900px;margin:auto;background:rgba(255,255,255,0.1);margin-bottom:30px;border-radius:12px;box-shadow:0px 4px 15px rgba(0,0,0,0.5);}
section h2{color:#ffe66d;margin-bottom:15px;}
.form-box{background:rgba(0,0,0,0.7);padding:20px;border-radius:12px;color:white;max-width:500px;margin:auto;}
.form-box label{display:block;margin-bottom:10px;}
.form-box input, .form-box select, .form-box textarea{width:100%;padding:5px;margin-top:3px;border-radius:5px;border:none;}
.btn{background:#fbd46d;color:black;padding:8px 12px;border:none;border-radius:5px;cursor:pointer;margin-top:10px;}
.btn:hover{background:white;}
table{width:100%;border-collapse:collapse;color:black;background:white;margin-top:20px;}
table, th, td{border:1px solid #000;}
th, td{padding:8px;text-align:center;}
.green{background:#28a745;color:white;}
.red{background:#dc3545;color:white;}
.pink{background:#ff69b4;color:white;}
.hidden{display:none;}
.panel-box{background:white;color:#1a2a6c;border-radius:10px;padding:15px;margin:10px 0; cursor:pointer;}
.panel-content{display:none; padding:10px; border-top:1px solid #1a2a6c;}
.social-box{background:#333;padding:15px;margin:20px auto;border-radius:12px;max-width:400px;text-align:center;}
.social-box h3{margin-bottom:10px;color:#fbd46d;}
.social-box a{margin:0 10px;color:white;text-decoration:none;font-weight:bold;}
@media (max-width: 600px) {
  .form-box input, .form-box select, .form-box button, .form-box textarea {width:100% !important; font-size:16px; margin-top:5px;}
  nav {flex-direction: column; align-items: flex-start;}
  #statusSearch {width:90%; margin:10px;}
}
</style>
</head>
<body>

<header>
  <img src="myphoto.jpg" alt="Bhola Nath Basak Photo" />
  <h1>BHOLA NATH BASAK</h1>
</header>

<nav>
  <a onclick="showSection('profile')">Profile</a>
  <a onclick="showSection('education')">Education</a>
  <a onclick="showSection('culture')">Culture</a>
  <a onclick="showSection('achievements')">Achievements</a>
  <a onclick="showSection('hobbies')">Hobbies</a>
  <a onclick="showSection('interested')">Interested About</a>
  <a onclick="showSection('thoughts')">Thoughts</a>
  <a onclick="showSection('visitor')">Visitor Form</a>
  <a onclick="showSection('adminLogin')">Admin Login</a>
  <input id="statusSearch" type="text" placeholder="Visitor Status: Enter Appt No" onkeypress="if(event.key==='Enter'){checkStatus();}" />
</nav>

<div id="statusResult"></div>

<!-- Profile -->
<section id="profile">
<h2>Profile</h2>
<div class="panel-box" onclick="togglePanel(this)">Personal Details</div>
<div class="panel-content">
<p><strong>Name:</strong> BHOLA NATH BASAK</p>
<p><strong>DOB:</strong> 24-03-1988</p>
<p><strong>Father:</strong> <span onclick="showFather()" style="color:blue; cursor:pointer; text-decoration:underline;">Late Sankar Lal Basak</span></p>
<p><strong>Mother:</strong> Anima Basak</p>
<p><strong>Marriage:</strong> Love Marriage with Asha Basak (Met: July 2016, Married: Sept 2016)</p>
<p><strong>Daughter:</strong> Sonaskhi Basak</p>
</div>
<p>I am BHOLA NATH BASAK, a passionate learner and explorer of life’s endless opportunities. I aim to inspire others while growing myself in every possible field.</p>
</section>

<section id="education">
<h2>Education</h2>
<div class="panel-box" onclick="togglePanel(this)">Education Details</div>
<div class="panel-content">
<p>Graduated in Arts and Science, specialized in problem-solving, and continuous self-learning. Explored multiple disciplines, including technology, management, and literature. Participated in seminars and workshops to enhance knowledge and skills. </p>
</div>
<p>Education is the foundation of growth. I gather knowledge from books and real-life experiences shaping problem-solving abilities.</p>
</section>

<section id="culture">
<h2>Culture</h2>
<div class="panel-box" onclick="togglePanel(this)">Cultural Details</div>
<div class="panel-content">
<p>Raised in a traditional family in Krishnagar, Nadia, India, respecting values, rituals, and ethics. Blended cultural upbringing with modern thinking, embracing diversity, innovation, and creativity in life. Attended cultural festivals, local arts, and community events to nurture understanding and respect for varied perspectives.</p>
</div>
<p>I embrace traditions, values, and respect for diversity while blending it with modern ideas for a balanced lifestyle.</p>
</section>

<section id="achievements">
<h2>Achievements</h2>
<div class="panel-box" onclick="togglePanel(this)">Achievements Details</div>
<div class="panel-content">
<p>Successfully completed several academic and professional milestones. Recognized for dedication, leadership, and continuous learning. Achieved personal goals while contributing to community growth and inspiring others. Received accolades in multiple fields including creative projects, social initiatives, and professional excellence.</p>
</div>
<p>Every step of life is an achievement — from personal milestones to professional success, reflecting perseverance, hard work, and dedication.</p>
</section>

<section id="hobbies">
<h2>Hobbies</h2>
<div class="panel-box" onclick="togglePanel(this)">Hobbies Details</div>
<div class="panel-content">
<p>Enjoys sports, music, painting, technology, and creative writing. Loves exploring new skills and hobbies for personal growth and mental well-being. Hobbies provide balance, relaxation, and inspiration.</p>
</div>
<p>I enjoy creative and recreational activities — sports, art, music, technology. Hobbies give me balance and energy.</p>
</section>

<section id="interested">
<h2>Interested About</h2>
<div class="panel-box" onclick="togglePanel(this)">Interest Details</div>
<div class="panel-content">
<p>Deeply interested in innovation, leadership, and cultural understanding. Actively explores new ideas, engages with communities, and fosters meaningful connections for personal and societal growth.</p>
</div>
<p>Deeply interested in innovation, leadership, and cultural understanding. Exploring new ideas and connecting with people excites me.</p>
</section>

<section id="thoughts">
<h2>Thoughts</h2>
<div class="panel-box" onclick="togglePanel(this)">Thoughts Details</div>
<div class="panel-content">
<p>“Life is not about waiting for opportunities, it is about creating them.” Believes in determination, honesty, and proactive action. Practices mindfulness and continuous self-improvement.</p>
</div>
<p>“Life is not about waiting for opportunities, it is about creating them.” Determination and honesty make anything possible.</p>
</section>

<!-- Visitor Form -->
<section id="visitor" class="hidden" style="background:#1a2a6c;padding:40px;">
<h2>E_Appointment Visitor Form</h2>
<form id="appointmentForm" class="form-box">
<label>Name* <input id="Name" name="Name" type="text" required /></label>
<label>Address <input id="Address" name="Address" type="text" /></label>
<label>Date of Birth <input id="DateOfBirth" name="Date Of Birth" type="date" /></label>
<label>Country <input id="Country" name="Country" type="text" /></label>
<label>Father's Name <input id="FathersName" name="Father's Name" type="text" /></label>
<label>Visit Date* <input id="VisitDate" name="Visit Date" type="date" required /></label>
<label>Visit Time* <input id="VisitTime" name="Visit Time" type="time" required /></label>
<label>Phone Number* <input id="PhoneNumber" name="Phone Number" type="tel" required /></label>
<label>Email ID* <input id="EmailID" name="Email ID" type="email" required /></label>
<label>Passport (If Available) <input id="Passport" name="Passport (If Available)" type="text" /></label>
<label>Purpose <textarea id="Purpose" name="Purpose"></textarea></label>
<div style="display:flex;gap:10px;flex-wrap:wrap;">
<button type="submit" class="btn">Submit</button>
<button type="button" class="btn" onclick="cancelVisitorForm()">Cancel</button>
</div>
</form>
<div id="responseMessage" style="display:none;margin-top:10px;padding:10px;border-radius:5px;"></div>
</section>

<!-- Admin Login -->
<section id="adminLogin" class="hidden">
<h2>Admin Login</h2>
<div class="form-box">
<label>Username <input id="adminUser" type="text" /></label>
<label>Password <input id="adminPass" type="password" /></label>
<button class="btn" onclick="adminLogin()">Login</button>
</div>
</section>

<!-- Admin Dashboard -->
<section id="adminDashboard" class="hidden">
<h2>Admin Dashboard</h2>
<div style="margin-bottom:10px"><button class="btn" onclick="adminLogout()">Logout</button></div>
<table id="visitorTable">
<thead>
<tr>
<th>Appointment Number</th><th>Name</th><th>Address</th><th>Date Of Birth</th>
<th>Country</th><th>Father's Name</th><th>Visit Date</th><th>Visit Time</th>
<th>Phone Number</th><th>Email ID</th><th>Passport (If Available)</th><th>Purpose</th>
<th>Status</th><th>Submitted</th><th>Actions</th>
</tr>
</thead>
<tbody></tbody>
</table>
</section>

<!-- Communications -->
<div class="social-box">
<h3>COMMUNICATIONS</h3>
<a href="#" target="_blank">Facebook</a>
<a href="#" target="_blank">Instagram</a>
<a href="#" target="_blank">LinkedIn</a>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxabjEMeIHXJiw8jDVINmPJ59FcdfP_q_6mAgD84aI4Umh1EAbyIqR1g72i0hCzNh-3/exec";

function showSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

function togglePanel(el){
  const content = el.nextElementSibling;
  content.style.display = content.style.display==='block'?'none':'block';
}

function showFather(){ alert("Born in Krishnagar, Nadia, India, on 1934, 12th August - 16th June, 2016"); }

function cancelVisitorForm(){
  document.getElementById('appointmentForm').reset();
}

function adminLogin(){
  const user=document.getElementById('adminUser').value;
  const pass=document.getElementById('adminPass').value;
  if(user==="admin" && pass==="password123"){
    showSection('adminDashboard'); loadVisitors();
  }else{ alert("Invalid credentials"); }
}

function adminLogout(){
  showSection('adminLogin'); document.getElementById('visitorTable').querySelector('tbody').innerHTML='';
}

function loadVisitors(){
  fetch(SCRIPT_URL).then(r=>r.json()).then(data=>{
    const tbody=document.getElementById('visitorTable').querySelector('tbody');
    tbody.innerHTML='';
    if(Array.isArray(data)){
      data.forEach(v=>{
        const row=document.createElement('tr');
        row.innerHTML=`
          <td>${v['Appointment Number']}</td><td>${v['Name']}</td><td>${v['Address']}</td><td>${v['Date Of Birth']}</td>
          <td>${v['Country']}</td><td>${v["Father's Name"]}</td><td>${v['Visit Date']}</td><td>${v['Visit Time']}</td>
          <td>${v['Phone Number']}</td><td>${v['Email ID']}</td><td>${v['Passport (If Available)']}</td><td>${v['Purpose']}</td>
          <td>${v['Status']}</td>
          <td>${v['Submitted']}</td>
          <td>
            ${v['Status']==='Pending'?`
              <button class="btn" onclick="changeStatusPersist('${encodeURIComponent(v['Appointment Number'])}','Accepted')">Accept</button>
              <button class="btn" onclick="changeStatusPersist('${encodeURIComponent(v['Appointment Number'])}','Rejected')">Reject</button>`:'-'}
            <button class="btn" onclick="deleteVisitorPersist('${encodeURIComponent(v['Appointment Number'])}')">Delete</button>
          </td>`;
        tbody.appendChild(row);
      });
    }
  }).catch(err=>console.log("Error loading visitors:", err));
}

function changeStatusPersist(encodedApptNo,newStatus){
  const apptNo=decodeURIComponent(encodedApptNo);
  const params=new URLSearchParams();
  params.append("action","status");
  params.append("apptNo",apptNo);
  params.append("status",newStatus);
  fetch(SCRIPT_URL,{method:"POST",body:params})
    .then(r=>r.json())
    .then(res=>{
      if(res && res.success){ loadVisitors(); } 
      else{ alert(res.message||"Failed to update status"); }
    })
    .catch(err=>alert("Error updating status: "+err.message));
}

function deleteVisitorPersist(encodedApptNo){
  const apptNo=decodeURIComponent(encodedApptNo);
  const params=new URLSearchParams();
  params.append("action","delete");
  params.append("apptNo",apptNo);
  fetch(SCRIPT_URL,{method:"POST",body:params})
    .then(r=>r.json())
    .then(res=>{
      if(res && res.success){ loadVisitors(); } 
      else{ alert(res.message||"Failed to delete visitor"); }
    })
    .catch(err=>alert("Error deleting visitor: "+err.message));
}

function checkStatus(){
  const apptNo=document.getElementById('statusSearch').value.trim();
  if(!apptNo){ alert("Enter Appointment Number"); return; }
  fetch(SCRIPT_URL+"?appt_no="+encodeURIComponent(apptNo))
    .then(r=>r.json())
    .then(res=>{
      if(res.error){ document.getElementById('statusResult').innerText=res.error; }
      else{
        document.getElementById('statusResult').innerHTML=`
          <table>
            <tr><th>Appt No</th><th>Name</th><th>Status</th><th>Visit Date</th><th>Visit Time</th></tr>
            <tr>
              <td>${res['Appointment Number']}</td><td>${res['Name']}</td><td>${res['Status']}</td>
              <td>${res['Visit Date']}</td><td>${res['Visit Time']}</td>
            </tr>
          </table>`;
      }
    }).catch(err=>document.getElementById('statusResult').innerText="Error: "+err.message);
}

document.getElementById('appointmentForm')?.addEventListener('submit',function(e){
  e.preventDefault();
  const form=new FormData(this);
  form.append("action","submit");
  fetch(SCRIPT_URL,{method:"POST",body:form})
    .then(r=>r.json())
    .then(res=>{
      const msg=document.getElementById('responseMessage');
      if(res.success){ msg.style.display="block"; msg.innerText="Appointment Submitted! Appt No: "+res.apptNo; this.reset(); }
      else{ msg.style.display="block"; msg.innerText="Failed to submit"; }
    }).catch(err=>alert("Error submitting form: "+err.message));
});
</script>

</body>
</html>
