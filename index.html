<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INDIA BADSAH</title>
<style>
body { margin:0; font-family: Arial,sans-serif; background: linear-gradient(to right,#1a2a6c,#b21f1f,#fdbb2d); color:white; line-height:1.6; }
header { text-align:center; padding:20px; background:rgba(0,0,0,0.6);}
header img { width:180px; height:180px; object-fit:cover; border-radius:50%; border:5px solid #fff; transition: transform 0.4s;}
header img:hover { transform: scale(1.05) rotate(2deg);}
header h1 { margin:15px 0 0; font-size:2.5em; color:#fbd46d; text-shadow:2px 2px 5px black;}
nav { display:flex; justify-content:center; background:rgba(0,0,0,0.8); flex-wrap:wrap;}
nav a { color:white; text-decoration:none; padding:15px 20px; display:block; transition: background 0.3s, color 0.3s;}
nav a:hover { background:#fbd46d; color:black; border-radius:5px;}
section { padding:40px 20px; max-width:900px; margin:auto; background:rgba(255,255,255,0.1); margin-bottom:30px; border-radius:12px; box-shadow:0px 4px 15px rgba(0,0,0,0.5); transition: transform 0.3s;}
section:hover { transform: translateY(-5px);}
section h2 { color:#ffe66d; margin-bottom:15px;}
footer { text-align:center; padding:20px; background:rgba(0,0,0,0.7); color:#ccc;}
input, select, button { width:100%; padding:10px; margin:5px 0 15px 0; border:none; border-radius:5px;}
button { background:#fbd46d; color:black; cursor:pointer;}
button:hover { background:#fff;}

/* Visitor Form Modal */
#visitorModal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.7);}
#visitorModalContent { background:#222; margin:5% auto; padding:20px; border-radius:10px; width:90%; max-width:500px; color:white;}

/* Admin Login Modal */
#adminModal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.7);}
#adminModalContent { background:#222; margin:5% auto; padding:20px; border-radius:10px; width:90%; max-width:400px; color:white;}

/* Visitor Table for Admin */
#adminTable { width:95%; margin:20px auto; border-collapse: collapse; background: rgba(255,255,255,0.1);}
#adminTable th, #adminTable td { padding:10px; border:1px solid #fff; text-align:left;}
#adminTable th { background: rgba(0,0,0,0.6);}
.status-accepted { background:green; color:white; }
.status-rejected { background:red; color:white; }
.status-pending { background:pink; color:black; }
</style>
</head>
<body>

<header>
<img src="myphoto.jpg" alt="India Badsah Photo">
<h1>INDIA BADSAH</h1>
</header>

<nav>
<a href="#profile">Profile</a>
<a href="#education">Education</a>
<a href="#culture">Culture</a>
<a href="#achievements">Achievements</a>
<a href="#hobbies">Hobbies</a>
<a href="#interested">Interested About</a>
<a href="#thoughts">Thoughts</a>
<a href="#" onclick="openVisitorForm()">Visitor Form</a>
<a href="#" onclick="openAdminForm()">Admin Login</a>
</nav>

<!-- Visitor Status Check -->
<section id="visitorStatus">
<h2>Check Your Appointment Status</h2>
<label>Enter Appointment Number:</label>
<input type="number" id="checkAppointmentNumber" placeholder="Appointment Number">
<button onclick="checkVisitorStatus()">Check Status</button>
<p id="statusResult"></p>
</section>

<!-- Visitor Form Modal -->
<div id="visitorModal">
<div id="visitorModalContent">
<h2>Visitor Form</h2>
<label>Visitor Name</label>
<input type="text" id="visitorName" placeholder="Visitor Name" required>
<label>DOB</label>
<input type="date" id="visitorDOB" max="">
<label>Father's Name</label>
<input type="text" id="fatherName" placeholder="Father's Name">
<label>Visitor Address</label>
<input type="text" id="visitorAddress" placeholder="Visitor Address" required>
<label>Country</label>
<select id="visitorCountry" required>
<option value="">Select Country</option>
<option value="+91">India (+91)</option>
<option value="+880">Bangladesh (+880)</option>
<option value="+92">Pakistan (+92)</option>
<option value="+94">Sri Lanka (+94)</option>
<option value="+1">USA (+1)</option>
<option value="+44">UK (+44)</option>
<option value="+65">Singapore (+65)</option>
<option value="+971">UAE (+971)</option>
<option value="+44">England (+44)</option>
</select>
<label>Visit Date</label>
<input type="date" id="visitDate" min="">
<label>Visit Time</label>
<input type="time" id="visitTime" required>
<label>Contact Number</label>
<input type="tel" id="contactNumber" placeholder="Contact Number" required>
<label>Passport Number</label>
<input type="text" id="passportNumber" placeholder="Passport Number">
<label>Email</label>
<input type="email" id="email" placeholder="Email" required>
<button onclick="submitVisitorForm()">Submit</button>
<button onclick="closeVisitorForm()">Cancel</button>
</div>
</div>

<!-- Admin Login Modal -->
<div id="adminModal">
<div id="adminModalContent">
<h2>Admin Login</h2>
<input type="text" id="username" placeholder="Username" required>
<input type="password" id="password" placeholder="Password" required>
<button onclick="submitAdminLogin()">Login</button>
<button onclick="closeAdminForm()">Cancel</button>
</div>
</div>

<!-- Profile Sections -->
<section id="profile"><h2>Profile</h2><p>I am INDIA BADSAH, a passionate learner and explorer of life’s endless opportunities.</p></section>
<section id="education"><h2>Education</h2><p>Education is the foundation of growth.</p></section>
<section id="culture"><h2>Culture</h2><p>Culture defines who we are.</p></section>
<section id="achievements"><h2>Achievements</h2><p>Perseverance and hard work define my journey.</p></section>
<section id="hobbies"><h2>Hobbies</h2><p>Engage in creative and recreational activities.</p></section>
<section id="interested"><h2>Interested About</h2><p>Deeply interested in innovation, leadership, and cultural understanding.</p></section>
<section id="thoughts"><h2>Thoughts</h2><p>“Life is about creating opportunities.”</p></section>

<footer>
<p>© 2025 INDIA BADSAH | Personal Biography Website | <a href="https://facebook.com" style="color:white;">Facebook</a> | <a href="https://wa.me/your_number" style="color:white;">WhatsApp</a></p>
</footer>

<script>
/* Set min/max for date inputs dynamically */
let today=new Date().toISOString().split("T")[0];
document.getElementById("visitorDOB").max=today;
document.getElementById("visitDate").min=today;

/* Visitor Form Functions */
function openVisitorForm(){document.getElementById("visitorModal").style.display="block";}
function closeVisitorForm(){document.getElementById("visitorModal").style.display="none";}
function submitVisitorForm(){
const data={
visitorName:document.getElementById("visitorName").value,
dob:document.getElementById("visitorDOB").value,
fatherName:document.getElementById("fatherName").value,
address:document.getElementById("visitorAddress").value,
country:document.getElementById("visitorCountry").value,
visitDate:document.getElementById("visitDate").value,
visitTime:document.getElementById("visitTime").value,
contactNumber:document.getElementById("contactNumber").value,
passport:document.getElementById("passportNumber").value,
email:document.getElementById("email").value
};
fetch('https://script.google.com/macros/s/AKfycbw2NRzQZ32knafNEDLFajIzR3Ei9cemGDCUbs49pZHU/dev',{
method:'POST',
body:JSON.stringify(data),
headers:{'Content-Type':'application/json'}
}).then(res=>res.json()).then(d=>{
alert(`${d.message}\nAppointment No: ${d.appointmentNo}`);
closeVisitorForm();
}).catch(err=>alert("Error sending appointment: "+err.message));
}

/* Admin Login */
let attempts=0;
function openAdminForm(){document.getElementById("adminModal").style.display="block";}
function closeAdminForm(){document.getElementById("adminModal").style.display="none";}
function submitAdminLogin(){
const username=document.getElementById("username").value;
const password=document.getElementById("password").value;
if(username==="admin" && password==="password123"){
alert("Login Successful");
closeAdminForm();
loadAdminData();
}else{
attempts++;
alert("PERMISSION DENIED");
if(attempts>=2){closeAdminForm(); attempts=0;}
}
}

/* Admin Data Table */
function loadAdminData(){
fetch('https://script.google.com/macros/s/AKfycbw2NRzQZ32knafNEDLFajIzR3Ei9cemGDCUbs49pZHU/dev')
.then(res=>res.json())
.then(data=>{
let section=document.createElement("section");
section.innerHTML='<h2>Admin Dashboard - Visitor Appointments</h2><table id="adminTable"><thead><tr><th>Name</th><th>DOB</th><th>Father Name</th><th>Address</th><th>Country</th><th>Visit Date</th><th>Visit Time</th><th>Contact</th><th>Passport</th><th>Email</th><th>Appointment No</th><th>Status</th></tr></thead><tbody></tbody></table>';
document.body.insertBefore(section,document.getElementById("thoughts"));
let tbody=section.querySelector("tbody");
data.forEach(v=>{
let statusClass=v.Status==="Accepted"?"status-accepted":v.Status==="Rejected"?"status-rejected":"status-pending";
let tr=document.createElement("tr");
tr.innerHTML=`<td>${v['Visitor Name']}</td>
<td>${v['Visitor DOB']}</td>
<td>${v['Father Name']}</td>
<td>${v['Visitor Address']}</td>
<td>${v['Country']}</td>
<td>${v['Visit Date']}</td>
<td>${v['Visit Time']}</td>
<td>${v['Contact Number']}</td>
<td>${v['Passport Number']}</td>
<td>${v['Email']}</td>
<td>${v['Appointment Number']}</td>
<td class="${statusClass}">${v.Status||"Pending"}</td>`;
tbody.appendChild(tr);
});
})
.catch(err=>alert("Error loading admin data: "+err.message));
}

/* Visitor Status Check */
function checkVisitorStatus(){
const apptNo=document.getElementById("checkAppointmentNumber").value.trim();
if(!apptNo){alert("Please enter appointment number");return;}
fetch('https://script.google.com/macros/s/AKfycbw2NRzQZ32knafNEDLFajIzR3Ei9cemGDCUbs49pZHU/dev')
.then(res=>res.json())
.then(data=>{
let visitor=data.find(v=>v['Appointment Number']==apptNo);
let result=document.getElementById("statusResult");
if(visitor){
let status=visitor.Status||"Pending";
let color=status.toLowerCase()=="accepted"?"green":status.toLowerCase()=="rejected"?"red":"pink";
result.style.background=color; result.style.padding="10px"; result.style.borderRadius="5px";
result.innerHTML=`Status: ${status}<br>Visitor Name: ${visitor['Visitor Name']}<br>Visit Date: ${visitor['Visit Date']}<br>Visit Time: ${visitor['Visit Time']}`;
}else{
result.style.background="pink"; result.style.padding="10px"; result.style.borderRadius="5px";
result.innerHTML="Appointment number not found.";
}
})
.catch(err=>alert("Error fetching data: "+err.message));
}
</script>

</body>
</html>
