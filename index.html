<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bhola Nath Basak | Appointment Website</title>
<style>
  body { margin:0; font-family: Arial,sans-serif; background:#f4f4f4; }
  header { background:#1a2a6c; color:white; text-align:center; padding:20px; }
  header img { width:180px; height:180px; border-radius:50%; border:5px solid #fff; object-fit:cover; }
  header h1 { margin:10px 0 0; font-size:2em; color:#fbd46d; }
  nav { display:flex; justify-content:center; background:#000; flex-wrap:wrap; }
  nav a { color:white; text-decoration:none; padding:15px 20px; display:block; }
  nav a:hover { background:#fbd46d; color:black; border-radius:5px; }
  section { padding:30px; max-width:900px; margin:20px auto; background:white; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.3); }
  section h2 { color:#1a2a6c; margin-bottom:15px; }
  footer { text-align:center; padding:20px; background:#000; color:#ccc; margin-top:20px; }
  /* Admin Section */
  #adminSection { display:none; background:#000; color:white; padding:20px; border-radius:10px; }
  #adminSection table { width:100%; border-collapse:collapse; margin-top:20px; }
  #adminSection table td, #adminSection table th { border:1px solid #fff; padding:8px; color:white; }
  #adminSection table th { background:#1a2a6c; }
  button { padding:5px 10px; cursor:pointer; }
</style>
</head>
<body>

<header>
  <img src="myphoto.jpg" alt="Bhola Nath Basak">
  <h1>Bhola Nath Basak</h1>
</header>

<nav>
  <a href="#profile">Profile</a>
  <a href="#appointment">Appointment</a>
  <a href="#contact">Contact</a>
  <a href="https://www.linkedin.com/in/bhola-nath-basak-3b6684242?trk=contact-info" target="_blank">LinkedIn</a>
  <a href="https://www.facebook.com/share/17HAzeWpsW/" target="_blank">Facebook</a>
</nav>

<section id="profile">
  <h2>Profile</h2>
  <p>I am Bhola Nath Basak, a passionate learner and explorer. I aim to inspire others while growing myself.</p>
</section>

<section id="appointment">
  <h2>Request Appointment</h2>
  <form id="appointmentForm">
    <label>Name: <input type="text" id="visitorName" required></label><br><br>
    <label>Email: <input type="email" id="visitorEmail" required></label><br><br>
    <label>Country Code: 
      <select id="countryCode">
        <option value="+971">UAE +971</option>
        <option value="+91">India +91</option>
        <option value="+1">USA +1</option>
        <!-- Add more country codes -->
      </select>
    </label><br><br>
    <label>WhatsApp: <input type="text" id="visitorWhatsapp" required></label><br><br>
    <label>Purpose: <input type="text" id="visitorPurpose" required></label><br><br>
    <label>Country: <input type="text" id="visitorCountry" required></label><br><br>
    <button type="submit">Submit Appointment</button>
  </form>
  <p id="apptNumber"></p>
</section>

<section id="contact">
  <h2>Contact</h2>
  <p>Email: starananda24@gmail.com</p>
  <p>Phone: +971 506309833</p>
</section>

<!-- Admin login -->
<section id="admin">
  <h2>Admin Login</h2>
  <input type="password" id="adminPass" placeholder="Enter Admin Password">
  <button onclick="loginAdmin()">Login</button>
</section>

<section id="adminSection">
  <h2>Admin Panel</h2>
  <button onclick="logoutAdmin()">Logout</button>
  <table>
    <thead>
      <tr>
        <th>Appt No.</th>
        <th>Date</th>
        <th>Time</th>
        <th>Name</th>
        <th>Email</th>
        <th>WhatsApp</th>
        <th>Purpose</th>
        <th>Country</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="adminTableBody"></tbody>
  </table>
</section>

<footer>
  Â© 2025 Bhola Nath Basak | Appointment Website
</footer>

<script>
let appointments = [];
let adminPassword = "admin123"; // change your admin password here

const appointmentForm = document.getElementById('appointmentForm');
const apptNumber = document.getElementById('apptNumber');
const adminSection = document.getElementById('adminSection');
const adminTableBody = document.getElementById('adminTableBody');

appointmentForm.addEventListener('submit', function(e){
  e.preventDefault();
  const appt = {
    number: 'APTWBNB' + String(appointments.length+1).padStart(2,'0'),
    date: new Date().toLocaleDateString(),
    time: new Date().toLocaleTimeString(),
    name: document.getElementById('visitorName').value,
    email: document.getElementById('visitorEmail').value,
    countryCode: document.getElementById('countryCode').value,
    whatsapp: document.getElementById('visitorWhatsapp').value,
    purpose: document.getElementById('visitorPurpose').value,
    country: document.getElementById('visitorCountry').value,
    status: 'Pending'
  };
  appointments.push(appt);
  apptNumber.textContent = 'Your Appointment Number: ' + appt.number;
  printAppointment(appt);
  appointmentForm.reset();
});

function printAppointment(appt){
  const dateObj = new Date();
  let hour = dateObj.getHours();
  const minute = dateObj.getMinutes().toString().padStart(2,'0');
  const ampm = hour >= 12 ? 'PM' : 'AM';
  hour = hour % 12; hour = hour ? hour : 12;
  const timeStr = hour + ':' + minute + ' ' + ampm;
  const dateStr = dateObj.toLocaleDateString();

  const printContent = `
  <html>
  <head><title>E_Appointment Letter</title>
  <style>
  body { font-family:"Segoe UI",Arial,sans-serif; padding:30px; }
  .letter-container { border:2px solid #1a2a6c; border-radius:15px; padding:30px; max-width:700px; margin:auto; }
  h1 { text-align:center; color:#1a2a6c; }
  .details table { width:100%; border-collapse:collapse; }
  .details table td { padding:10px; border:1px solid #ccc; }
  .footer { text-align:center; margin-top:30px; font-weight:bold; color:#1a2a6c; }
  </style>
  </head>
  <body>
    <div class="letter-container">
      <h1>E_Appointment Letter</h1>
      <p>Date Generated: ${dateStr}</p>
      <p>Appointment with: <strong>Bhola Nath Basak</strong></p>
      <div class="details">
        <table>
          <tr><td>Appointment No.</td><td>${appt.number}</td></tr>
          <tr><td>Appointment Date</td><td>${appt.date}</td></tr>
          <tr><td>Appointment Time</td><td>${timeStr}</td></tr>
          <tr><td>Visitor Name</td><td>${appt.name}</td></tr>
          <tr><td>Email</td><td>${appt.email}</td></tr>
          <tr><td>WhatsApp</td><td>${appt.countryCode} ${appt.whatsapp}</td></tr>
          <tr><td>Purpose</td><td>${appt.purpose}</td></tr>
          <tr><td>Country</td><td>${appt.country}</td></tr>
        </table>
      </div>
      <p class="footer">Keep this E-Appointment safe and bring it during your appointment.</p>
    </div>
  </body>
  </html>
  `;
  const win = window.open('', '_blank');
  win.document.write(printContent);
  win.document.close();
  win.print();
}

// Admin Functions
function loginAdmin(){
  const pass = document.getElementById('adminPass').value;
  if(pass === adminPassword){
    document.getElementById('admin').style.display='none';
    adminSection.style.display='block';
    renderAdminTable();
  } else { alert("Incorrect Password"); }
}

function logoutAdmin(){
  adminSection.style.display='none';
  document.getElementById('admin').style.display='block';
  document.getElementById('adminPass').value='';
}

function renderAdminTable(){
  adminTableBody.innerHTML='';
  appointments.forEach((appt,index)=>{
    const row = document.createElement('tr');
    let statusText = appt.status;
    let statusColor = 'white';
    if(appt.status === 'Accepted') statusColor = 'green';
    else if(appt.status === 'Rejected') statusColor = 'red';

    row.innerHTML = `
      <td>${appt.number}</td>
      <td>${appt.date}</td>
      <td>${appt.time}</td>
      <td>${appt.name}</td>
      <td>${appt.email}</td>
      <td>${appt.countryCode} ${appt.whatsapp}</td>
      <td>${appt.purpose}</td>
      <td>${appt.country}</td>
      <td style="color:${statusColor}; font-weight:bold;">
        ${appt.status === 'Pending' ? `<button onclick="accept(${index})">Accept</button>
        <button onclick="reject(${index})">Reject</button>` : statusText}
      </td>
    `;
    adminTableBody.appendChild(row);
  });
}

function accept(index){
  appointments[index].status='Accepted';
  alert("GOOD LUCK FOR YOUR APPOINTMENT SCREENING");
  console.log(`SMS to ${appointments[index].countryCode}${appointments[index].whatsapp}: GOOD LUCK FOR YOUR APPOINTMENT SCREENING`);
  renderAdminTable();
}

function reject(index){
  appointments[index].status='Rejected';
  alert("SORRY FOR REJECTING YOUR APPOINTMENT DUE TO NOT MATCHING YOUR CRITERIA");
  console.log(`SMS to ${appointments[index].countryCode}${appointments[index].whatsapp}: SORRY FOR REJECTING YOUR APPOINTMENT`);
  renderAdminTable();
}
</script>

</body>
</html>
