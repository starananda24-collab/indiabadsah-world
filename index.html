<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INDIA BADSAH</title>
<style>
body {margin:0; font-family: Arial, sans-serif; background:linear-gradient(to right,#1a2a6c,#b21f1f,#fdbb2d); color:white; line-height:1.6;}
header{text-align:center; padding:20px; background:rgba(0,0,0,0.6);}
header img{width:180px;height:180px;object-fit:cover;border-radius:50%;border:5px solid #fff;transition: transform 0.4s;}
header img:hover{transform: scale(1.05) rotate(2deg);}
header h1{margin:15px 0 0; font-size:2.5em;color:#fbd46d;text-shadow:2px 2px 5px black;}
nav{display:flex;justify-content:center;background:rgba(0,0,0,0.8);flex-wrap:wrap;align-items:center;}
nav a{color:white;text-decoration:none;padding:10px 15px;display:block;transition:background 0.3s,color 0.3s;cursor:pointer;}
nav a:hover{background:#fbd46d;color:black;border-radius:5px;}
#statusSearch {margin-left:10px;padding:5px;border-radius:5px;border:none;}
#statusResult {margin-left:10px;}
section{padding:40px 20px;max-width:900px;margin:auto;background:rgba(255,255,255,0.1);margin-bottom:30px;border-radius:12px;box-shadow:0px 4px 15px rgba(0,0,0,0.5);}
section h2{color:#ffe66d;margin-bottom:15px;}
.form-box{background:rgba(0,0,0,0.7);padding:20px;border-radius:12px;color:white;max-width:500px;margin:auto;}
.form-box label{display:block;margin-bottom:10px;}
.form-box input, .form-box select{width:100%;padding:5px;margin-top:3px;border-radius:5px;border:none;}
.btn{background:#fbd46d;color:black;padding:8px 12px;border:none;border-radius:5px;cursor:pointer;margin-top:10px;}
.btn:hover{background:white;}
table{width:100%;border-collapse:collapse;color:black;background:white;margin-top:20px;}
table, th, td{border:1px solid #000;}
th, td{padding:8px;text-align:center;}
.green{background:#28a745;color:white;}
.red{background:#dc3545;color:white;}
.pink{background:#ff69b4;color:white;}
.hidden{display:none;}
@media (max-width: 600px) {
  .form-box input, .form-box select, .form-box button {width:100% !important; font-size:16px; margin-top:5px;}
  nav {flex-direction: column; align-items: flex-start;}
  #statusSearch {width:90%; margin:10px;}
}
</style>
</head>
<body>

<header>
  <img src="myphoto.jpg" alt="India Badsah Photo">
  <h1>INDIA BADSAH</h1>
</header>

<nav>
  <a onclick="showSection('profile')">Profile</a>
  <a onclick="showSection('education')">Education</a>
  <a onclick="showSection('culture')">Culture</a>
  <a onclick="showSection('achievements')">Achievements</a>
  <a onclick="showSection('hobbies')">Hobbies</a>
  <a onclick="showSection('interested')">Interested About</a>
  <a onclick="showSection('thoughts')">Thoughts</a>
  <a onclick="showSection('visitor')">Visitor Form</a>
  <a onclick="showSection('adminLogin')">Admin Login</a>
  <input type="text" id="statusSearch" placeholder="Visitor Status: Enter Appt No" onkeypress="if(event.key==='Enter'){checkStatus();}">
</nav>
<div id="statusResult"></div>

<!-- Sections -->
<section id="profile"><h2>Profile</h2><p>I am INDIA BADSAH, a passionate learner and explorer of life’s endless opportunities.</p></section>
<section id="education"><h2>Education</h2><p>Education is the foundation of growth.</p></section>
<section id="culture"><h2>Culture</h2><p>Blending traditions and modern ideas.</p></section>
<section id="achievements"><h2>Achievements</h2><p>Perseverance, hard work, and dedication define achievements.</p></section>
<section id="hobbies"><h2>Hobbies</h2><p>Sports, art, music, technology, and creative activities.</p></section>
<section id="interested"><h2>Interested About</h2><p>Innovation, leadership, cultural understanding, exploring new ideas.</p></section>
<section id="thoughts"><h2>Thoughts</h2><p>“Life is about creating opportunities, not waiting.”</p></section>

<!-- Visitor Form -->
<section id="visitor" class="hidden">
  <h2>E_Appointment Visitor Form</h2>
  <form id="appointmentForm" class="form-box">
    <label>Name* <input type="text" id="Name" required></label>
    <label>Address <input type="text" id="Address"></label>
    <label>Date Of Birth <input type="date" id="DOB"></label>
    <label>Country <input type="text" id="Country"></label>
    <label>Father's Name <input type="text" id="FatherName"></label>
    <label>Visit Date* <input type="date" id="VisitDate" required></label>
    <label>Visit Time* <input type="time" id="VisitTime" required></label>
    <label>Phone Number* <input type="tel" id="PhoneNumber" required></label>
    <label>Email ID* <input type="email" id="EmailID" required></label>
    <label>Passport (If Available) <input type="text" id="Passport"></label>
    <label>Purpose <input type="text" id="Purpose"></label>
    <button type="submit" class="btn">Submit</button>
  </form>
  <div id="formResponse"></div>
</section>

<!-- Admin Login -->
<section id="adminLogin" class="hidden">
  <h2>Admin Login</h2>
  <div class="form-box">
    <label>Username <input type="text" id="adminUser"></label>
    <label>Password <input type="password" id="adminPass"></label>
    <button onclick="adminLogin()" class="btn">Login</button>
  </div>
</section>

<!-- Admin Dashboard -->
<section id="adminDashboard" class="hidden">
  <h2>Admin Dashboard</h2>
  <button onclick="adminLogout()" class="btn">Logout</button>
  <table id="visitorTable">
    <thead><tr>
      <th>Appointment Number</th><th>Name</th><th>Address</th><th>Date Of Birth</th><th>Country</th><th>Father's Name</th><th>Visit Date</th><th>Visit Time</th><th>Phone Number</th><th>Email ID</th><th>Passport</th><th>Purpose</th><th>Status</th><th>Submitted</th>
    </tr></thead>
    <tbody></tbody>
  </table>
</section>

<footer>
  <p>© 2025 INDIA BADSAH | Personal Biography Website</p>
</footer>

<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyfUZDS0sP-r_moIRSDZlXywKbD0dhjWuIW864mU8FP6zOVwP_OTz0Aom66UFYXE3OC/exec";

// Show section
function showSection(id){
  document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

// Visitor Form Submit
document.getElementById("appointmentForm").addEventListener("submit", function(e){
  e.preventDefault();
  const formData = {
    Name: document.getElementById("Name").value.trim(),
    Address: document.getElementById("Address").value.trim(),
    "Date Of Birth": document.getElementById("DOB").value,
    Country: document.getElementById("Country").value.trim(),
    "Father's Name": document.getElementById("FatherName").value.trim(),
    "Visit Date": document.getElementById("VisitDate").value,
    "Visit Time": document.getElementById("VisitTime").value,
    "Phone Number": document.getElementById("PhoneNumber").value.trim(),
    "Email ID": document.getElementById("EmailID").value.trim(),
    "Passport (If Available)": document.getElementById("Passport").value.trim(),
    Purpose: document.getElementById("Purpose").value.trim()
  };

  // Mandatory check
  if(!formData.Name || !formData["Visit Date"] || !formData["Visit Time"] || !formData["Phone Number"] || !formData["Email ID"]){
    document.getElementById("formResponse").innerHTML = "<p class='red-text'>Please fill mandatory fields!</p>";
    return;
  }

  fetch(WEB_APP_URL, {
    method: "POST",
    body: new URLSearchParams(formData)
  }).then(r=>r.json())
    .then(data=>{
      if(data.success){
        document.getElementById("formResponse").innerHTML = `<p class='green-text'>Form submitted successfully! Appointment No: ${data.apptNo}</p>`;
        document.getElementById("appointmentForm").reset();
      } else {
        document.getElementById("formResponse").innerHTML = `<p class='red-text'>Error: ${data.error}</p>`;
      }
    }).catch(err=>{
      document.getElementById("formResponse").innerHTML = "<p class='red-text'>Submission failed!</p>";
    });
});

// Check Visitor Status
function checkStatus(){
  const apptNo = document.getElementById("statusSearch").value.trim();
  if(!apptNo){ alert("Enter Appointment Number"); return; }

  fetch(`${WEB_APP_URL}?appt_no=${encodeURIComponent(apptNo)}`)
    .then(r=>r.json())
    .then(data=>{
      const resDiv = document.getElementById("statusResult");
      if(data.error){ resDiv.innerHTML = "❌ " + data.error; return; }
      resDiv.innerHTML = `<div style="padding:10px;background:white;color:black;border-radius:8px;">
        <p><strong>Appt No:</strong> ${data["Appointment Number"] || apptNo}</p>
        <p><strong>Name:</strong> ${data.Name}</p>
        <p><strong>Status:</strong> ${data.Status}</p>
      </div>`;
    }).catch(err=>alert("Failed to fetch status!"));
}

// Admin Login
function adminLogin(){
  const u = document.getElementById("adminUser").value.trim();
  const p = document.getElementById("adminPass").value.trim();
  if(u==="admin" && p==="admin"){
    showSection("adminDashboard");
    fetch(WEB_APP_URL)
      .then(r=>r.json())
      .then(data=>{
        const tbody = document.querySelector("#visitorTable tbody");
        tbody.innerHTML="";
        data.forEach(v=>{
          const row = `<tr>
            <td>${v["Appointment Number"]}</td>
            <td>${v.Name}</td>
            <td>${v.Address}</td>
            <td>${v["Date Of Birth"]}</td>
            <td>${v.Country}</td>
            <td>${v["Father's Name"]}</td>
            <td>${v["Visit Date"]}</td>
            <td>${v["Visit Time"]}</td>
            <td>${v["Phone Number"]}</td>
            <td>${v["Email ID"]}</td>
            <td>${v["Passport (If Available)"]}</td>
            <td>${v.Purpose}</td>
            <td>${v.Status}</td>
            <td>${v.Submitted}</td>
          </tr>`;
          tbody.innerHTML += row;
        });
      });
  } else alert("Invalid Credentials");
}

function adminLogout(){
  showSection("profile");
}
</script>
</body>
</html>
