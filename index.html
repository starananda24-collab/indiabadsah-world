<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BHOLA NATH BASAK</title>
<style>
body {margin:0; font-family: Arial, sans-serif; background:linear-gradient(to right,#1a2a6c,#b21f1f,#fdbb2d); color:white; line-height:1.6;}
header{text-align:center; padding:20px; background:blue;}
header img{width:180px;height:180px;object-fit:cover;border-radius:0; border:5px solid #fff;}
header h1{margin:15px 0 0; font-size:2.5em;color:#fbd46d;text-shadow:2px 2px 5px black;}
nav{display:flex;justify-content:center;background:rgba(0,0,0,0.8);flex-wrap:wrap;align-items:center;}
nav a{color:white;text-decoration:none;padding:10px 15px;display:block;transition:background 0.3s,color 0.3s;cursor:pointer;}
nav a:hover{background:#fbd46d;color:black;border-radius:5px;}
#statusSearch {margin-left:10px;padding:5px;border-radius:5px;border:none;}
#statusResult {margin-left:10px;}
section{padding:40px 20px;max-width:900px;margin:auto;background:white;color:black;margin-bottom:30px;border-radius:12px;box-shadow:0px 4px 15px rgba(0,0,0,0.5);}
section h2{color:#0044cc;margin-bottom:15px;}
.panel {background:white;color:#0044cc;border-radius:8px;margin-bottom:15px;padding:10px;}
.panel-label {font-weight:bold;color:white;background:#0044cc;padding:5px;border-radius:5px;cursor:pointer;}
.panel-content {display:block;color:black;margin-top:5px;text-align:justify;line-height:1.6;}
.hidden{display:none;}
.modal {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:1000;}
.modal-content{background:#fff;color:#000;padding:20px;border-radius:12px;max-width:500px;width:90%;position:relative;}
.modal-content h3{margin-top:0;}
.modal-content button{margin-top:10px;padding:8px 12px;border:none;border-radius:5px;cursor:pointer;}
.modal-content .cancel-btn{background:red;color:white;margin-left:10px;}
.social-box{background:#333;padding:15px;margin:20px auto;border-radius:12px;max-width:400px;text-align:center;}
.social-box h3{margin-bottom:10px;color:#fbd46d;}
.social-box a{margin:0 10px;color:white;text-decoration:none;font-weight:bold;}
footer{text-align:center;padding:15px;background:rgba(0,0,0,0.8);color:white;}
</style>
</head>
<body>

<header>
  <img src="myphoto.jpg" alt="Bhola Nath Basak Photo" />
  <h1>BHOLA NATH BASAK</h1>
</header>

<nav>
  <a onclick="showSection('profile')">Profile</a>
  <a onclick="showSection('education')">Education</a>
  <a onclick="showSection('culture')">Culture</a>
  <a onclick="showSection('achievements')">Achievements</a>
  <a onclick="showSection('hobbies')">Hobbies</a>
  <a onclick="showSection('interested')">Interested About</a>
  <a onclick="showSection('thoughts')">Thoughts</a>
  <a onclick="openVisitorForm()">Visitor Form</a>
  <a onclick="openAdminLogin()">Admin Login</a>
  <input id="statusSearch" type="text" placeholder="Visitor Status: Enter Appt No" onkeypress="if(event.key==='Enter'){checkStatus();}" />
</nav>

<div id="statusResult"></div>

<!-- Sections always visible -->
<section id="profile"><h2>Profile</h2><p><!-- 500-word profile description --></p></section>
<section id="education"><h2>Education</h2><p><!-- 500-word education description --></p></section>
<section id="culture"><h2>Culture</h2><p><!-- 500-word culture description --></p></section>
<section id="achievements"><h2>Achievements</h2><p><!-- 500-word achievements description --></p></section>
<section id="hobbies"><h2>Hobbies</h2><p><!-- 500-word hobbies description --></p></section>
<section id="interested"><h2>Interested About</h2><p><!-- 500-word interested description --></p></section>
<section id="thoughts"><h2>Thoughts</h2><p><!-- 500-word thoughts description --></p></section>

<!-- Visitor Form Modal -->
<div id="visitorModal" class="modal hidden">
  <div class="modal-content">
    <h3>E_Appointment Form</h3>
    <label>Name<input type="text" id="vName" /></label>
    <label>Address<textarea id="vAddress"></textarea></label>
    <label>Date Of Birth<input type="date" id="vDob"/></label>
    <label>Country<input type="text" id="vCountry"/></label>
    <label>Father's Name<input type="text" id="vFather"/></label>
    <label>Visit Date<input type="date" id="vVisitDate"/></label>
    <label>Visit Time<input type="time" id="vVisitTime"/></label>
    <label>Phone Number<input type="text" id="vPhone"/></label>
    <label>Email ID<input type="email" id="vEmail"/></label>
    <label>Passport (if available)<input type="text" id="vPassport"/></label>
    <label>Purpose<textarea id="vPurpose"></textarea></label>
    <button onclick="submitVisitor()">Submit</button>
    <button class="cancel-btn" onclick="cancelVisitorForm()">Cancel</button>
    <div id="visitorPrint" class="hidden"></div>
  </div>
</div>

<!-- Admin Login Modal -->
<div id="adminModal" class="modal hidden">
  <div class="modal-content">
    <h3>Admin Login</h3>
    <label>Username<input type="text" id="adminUser"/></label>
    <label>Password<input type="password" id="adminPass"/></label>
    <button onclick="adminLogin()">Login</button>
    <button class="cancel-btn" onclick="cancelAdminLogin()">Cancel</button>
    <div id="adminPanel" class="hidden"></div>
  </div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxvgC7SEgrnduD7htaIJmYwH84eGvzpPLhlNFuLJz03L4excZxtN07s_aZx5rcO8Tc1/exec";

// Sections
function showSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

// Visitor Form
function openVisitorForm(){document.getElementById('visitorModal').classList.remove('hidden');}
function cancelVisitorForm(){
  document.getElementById('visitorModal').classList.add('hidden');
  document.getElementById('vName').value='';document.getElementById('vAddress').value='';
  document.getElementById('vDob').value='';document.getElementById('vCountry').value='';
  document.getElementById('vFather').value='';document.getElementById('vVisitDate').value='';
  document.getElementById('vVisitTime').value='';document.getElementById('vPhone').value='';
  document.getElementById('vEmail').value='';document.getElementById('vPassport').value='';
  document.getElementById('vPurpose').value='';document.getElementById('visitorPrint').classList.add('hidden');
}

// Admin Login
function openAdminLogin(){document.getElementById('adminModal').classList.remove('hidden');}
function cancelAdminLogin(){document.getElementById('adminModal').classList.add('hidden');document.getElementById('adminPanel').classList.add('hidden');}

function adminLogin(){
  const user=document.getElementById('adminUser').value;
  const pass=document.getElementById('adminPass').value;
  if(user==='admin' && pass==='admin123'){
    alert('Admin Logged In!');
    document.getElementById('adminPanel').classList.remove('hidden');
    loadAdminDashboard();
  }else{alert('Invalid Credentials');}
}

// Visitor Submission
function submitVisitor(){
  const data={
    action:'submit',
    Name: document.getElementById('vName').value,
    Address: document.getElementById('vAddress').value,
    "Date Of Birth": document.getElementById('vDob').value,
    Country: document.getElementById('vCountry').value,
    "Father's Name": document.getElementById('vFather').value,
    "Visit Date": document.getElementById('vVisitDate').value,
    "Visit Time": document.getElementById('vVisitTime').value,
    "Phone Number": document.getElementById('vPhone').value,
    "Email ID": document.getElementById('vEmail').value,
    "Passport (If Available)": document.getElementById('vPassport').value,
    Purpose: document.getElementById('vPurpose').value
  };
  fetch(SCRIPT_URL,{method:'POST',body:new URLSearchParams(data)})
    .then(r=>r.json()).then(res=>{
      if(res.success){
        alert('Visitor Submitted! Appointment No: '+res.apptNo);
        cancelVisitorForm();
      }else alert('Failed to submit');
    }).catch(e=>alert('Error:'+e));
}

// Visitor Status Search
function checkStatus(){
  const apptNo=document.getElementById('statusSearch').value;
  if(!apptNo) return;
  fetch(SCRIPT_URL,{method:'POST',body:new URLSearchParams({appt_no:apptNo})})
    .then(r=>r.json()).then(res=>{
      if(res.error){document.getElementById('statusResult').innerText=res.error;}
      else{document.getElementById('statusResult').innerHTML=
        `<p>Appointment: ${res["Appointment Number"]} | Name: ${res.Name} | Status: ${res.Status} | Message: ${res["Admin Message"]} | Submitted: ${res.Submitted}</p>`;}
    }).catch(e=>document.getElementById('statusResult').innerText='Error fetching visitor');
}

// Admin Dashboard
function loadAdminDashboard(){
  fetch(SCRIPT_URL)
    .then(r=>r.json())
    .then(visitors=>{
      if(visitors.error){document.getElementById('adminPanel').innerText='Error loading visitors'; return;}
      let html=`<h3>Visitor Dashboard & Chat</h3><table border="1" style="width:100%;border-collapse:collapse;"><tr>`;
      if(visitors.length>0){
        html+=Object.keys(visitors[0]).map(k=>`<th>${k}</th>`).join('')+'<th>Send Message</th></tr>';
        visitors.forEach(v=>{
          html+=`<tr>${Object.keys(v).map(k=>`<td>${v[k]}</td>`).join('')}
          <td><input type="text" id="msg_${v['Appointment Number']}" placeholder="Enter message"/>
          <button onclick="sendMessage('${v['Appointment Number']}')">Send</button></td></tr>`;
        });
      } else html+='<tr><td>No visitors yet</td></tr>';
      html+='</table>';
      document.getElementById('adminPanel').innerHTML=html;
    });
}

function sendMessage(apptNo){
  const msg=document.getElementById('msg_'+apptNo).value;
  fetch(SCRIPT_URL,{method:'POST',body:new URLSearchParams({action:'message',apptNo:apptNo,message:msg})})
    .then(r=>r.json()).then(res=>{
      if(res.success){alert('Message sent!');loadAdminDashboard();}
      else alert(res.message);
    });
}
</script>

<!-- Contact Details -->
<div class="social-box">
<h3>Contact Details</h3>
<p>Facebook: <a href="https://www.facebook.com/share/17HAzeWpsW/">Link</a> | LinkedIn: <a href="https://www.linkedin.com/in/bhola-nath-basak-3b6684242?trk=contact-info">Link</a></p>
<p>Email: starananda24@gmail.com | Phone: +971 506309833</p>
</div>

<footer>
  copyright@2025 Personal website Bhola Nath Basak
</footer>

</body>
</html>
